(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,e,n){},21:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(4),u=n.n(r),o=(n(14),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,u=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),u(t),o(t)}))}),c=n(3),s=n(5),i=n(9),l=n(2),b={count:0,maxCount:10,startCount:0,errorMaxValue:!1,errorStartValue:!1,buttonSetDisabled:!0,enterSetButton:!1,incorrectValue:!1,incButtonDisabled:!1,resetButtonDisabled:!1,activeButtonInc:!1,autoButtonDisabled:!1,timerId:0},d=function(t){return{type:"INC-COUNT",count:t}},O=function(t,e,n,a){return{type:"START-VALUE-MAX-VALUE-IS-CORRECT",errorMaxValue:t,errorStartValue:e,buttonSetDisabled:n,incorrectValue:a}},j=function(t){return{type:"MAX-VALUE-IS-CORRECT",errorMaxValue:t}},T=function(t,e){return{type:"INC-AND-RESET-BUTTON-DISABLED",incButtonDisabled:t,resetButtonDisabled:e}},m=function(t){return{type:"ENTER-SET-BUTTON-TITLE-SHOW",enterSetButton:t}},x=function(t){return{type:"ACTIVE-BUTTON-INC",activeButtonInc:t}},C=Object(s.b)({counter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INC-COUNT":return Object(l.a)(Object(l.a)({},t),{},{count:e.count+1});case"CHANGE-MAX-VALUE":return Object(l.a)(Object(l.a)({},t),{},{maxCount:e.maxCount});case"CHANGE-START-VALUE":return Object(l.a)(Object(l.a)({},t),{},{startCount:e.startCount});case"RESET-COUNT":return Object(l.a)(Object(l.a)({},t),{},{count:e.count,resetButtonDisabled:!0});case"SET-BUTTON":return Object(l.a)(Object(l.a)({},t),{},{count:e.count,maxCount:e.maxCount,buttonSetDisabled:!0,enterSetButton:!1,resetButtonDisabled:!0});case"START-VALUE-MAX-VALUE-IS-CORRECT":return Object(l.a)(Object(l.a)({},t),{},{errorMaxValue:e.errorMaxValue,errorStartValue:e.errorStartValue,buttonSetDisabled:e.buttonSetDisabled,incorrectValue:e.incorrectValue});case"MAX-VALUE-IS-CORRECT":return Object(l.a)(Object(l.a)({},t),{},{errorMaxValue:e.errorMaxValue});case"INC-AND-RESET-BUTTON-DISABLED":return Object(l.a)(Object(l.a)({},t),{},{incButtonDisabled:e.incButtonDisabled,resetButtonDisabled:e.resetButtonDisabled});case"ENTER-SET-BUTTON-TITLE-SHOW":return Object(l.a)(Object(l.a)({},t),{},{enterSetButton:e.enterSetButton});case"RESET-BUTTON-DISABLED":return Object(l.a)(Object(l.a)({},t),{},{resetButtonDisabled:e.resetButtonDisabled});case"ACTIVE-BUTTON-INC":return Object(l.a)(Object(l.a)({},t),{},{activeButtonInc:e.activeButtonInc});case"SET-TIMER-ID":return Object(l.a)(Object(l.a)({},t),{},{timerId:e.timerId});case"TOGGLE-AUTO-BUTTON-DISABLED":return Object(l.a)(Object(l.a)({},t),{},{autoButtonDisabled:!t.autoButtonDisabled});case"RESET-AUTO-BUTTON-DISABLED":return Object(l.a)(Object(l.a)({},t),{},{autoButtonDisabled:!1});default:return t}}}),S=Object(s.c)(C,function(){try{var t=localStorage.getItem("app-state");if(null===t)return;return JSON.parse(t)}catch(e){return}}(),Object(s.a)(i.a));S.subscribe((function(){!function(t){try{var e=JSON.stringify(t);localStorage.setItem("app-state",e)}catch(n){}}({counter:S.getState().counter})})),window.store=S;n(21);var B=n(1);function E(t){return Object(B.jsx)("span",{className:t.enterSetButton?"span-enter-set-button":t.incorrectValue?"span-incorrect-value":t.value===t.maxValue?"":"span",children:t.enterSetButton?"Enter values and press 'set'":t.incorrectValue?"Incorrect value":t.value===t.maxValue?Object(B.jsxs)("span",{className:"span-max-value",children:[Object(B.jsx)("div",{className:"span-count",children:t.value}),Object(B.jsx)("div",{className:"span-text",children:"It is max value. Press 'reset'"})]}):t.value})}function V(t){return Object(B.jsxs)("button",{id:t.id,className:t.className,onClick:t.onClick,disabled:t.disabled,children:[t.nameButton," "]})}function p(t){return Object(B.jsx)("span",{className:"span",children:Object(B.jsxs)("div",{style:{height:"180px"},children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("label",{htmlFor:"maxValue",style:{fontSize:"25px",marginRight:"10px"},children:"max value:"}),Object(B.jsx)("input",{className:t.errorMaxValue?"error":"input",type:"number",id:"maxValue",onChange:t.onChangeMaxValue,value:t.maxValue,onKeyPress:t.onKeyPress})]}),Object(B.jsxs)("div",{style:{marginTop:"-5px"},children:[Object(B.jsx)("label",{htmlFor:"startValue",style:{fontSize:"25px",marginRight:"10px"},children:"start value:"}),Object(B.jsx)("input",{className:t.errorStartValue?"error":"input",type:"number",id:"startValue",onChange:t.onChangeStartValue,value:t.startValue,onKeyPress:t.onKeyPress})]})]})})}var v=function(){var t=Object(c.b)(),e=Object(c.c)((function(t){return t.counter}));Object(a.useEffect)((function(){null===e.startCount||e.startCount>=e.maxCount?t(O(!0,!0,!0,!0)):e.startCount<0?t(O(!1,!0,!0,!0)):e.startCount<e.maxCount&&t(O(!1,!1,!1,!1))}),[e.startCount,e.maxCount,t]),Object(a.useEffect)((function(){e.maxCount<=0?t(j(!0)):e.maxCount>0&&e.maxCount>e.startCount&&t(j(!1))}),[e.maxCount,e.startCount,t]),Object(a.useEffect)((function(){e.incorrectValue||e.errorStartValue||e.errorMaxValue?(e.incorrectValue||e.errorStartValue||e.errorMaxValue)&&t(T(!0,!0)):t(T(!1,!1))}),[e.incorrectValue,e.errorStartValue,e.errorMaxValue,t]),Object(a.useEffect)((function(){e.buttonSetDisabled?t(m(!1)):t(m(!0))}),[e.buttonSetDisabled,t]),Object(a.useEffect)((function(){e.enterSetButton?t(T(!0,!0)):e.count!==e.maxCount||e.incorrectValue?e.count===e.maxCount||e.count===e.startCount||e.incorrectValue?e.count!==e.startCount||e.incorrectValue?e.count===e.startCount||e.incorrectValue||t({type:"RESET-BUTTON-DISABLED",resetButtonDisabled:!1}):t(T(!1,!0)):t(T(!1,!1)):t(T(!0,!1))}),[e.enterSetButton,e.count,e.maxCount,e.startCount,e.incorrectValue,t]),Object(a.useEffect)((function(){t((function(t,e){var n=e().counter,a=n.count,r=n.maxCount;n.autoButtonDisabled&&t({type:"SET-TIMER-ID",timerId:setTimeout((function(){a<r&&t(d(a))}),1e3)})}))}),[e.count,e.autoButtonDisabled,t]);var n=function(){t(x(!1))},r=function(){var n,a,r,u,o;t((n=e.startCount,a=e.maxCount,r=e.buttonSetDisabled,u=e.enterSetButton,o=e.resetButtonDisabled,{type:"SET-BUTTON",count:n,maxCount:a,buttonSetDisabled:r,enterSetButton:u,resetButtonDisabled:o}))};return Object(B.jsxs)("div",{className:"App",children:[Object(B.jsxs)("div",{className:"div-value",children:[Object(B.jsx)(p,{maxValue:e.maxCount,onChangeMaxValue:function(e){e.currentTarget.value||t(O(!0,!0,!0,!0)),t({type:"CHANGE-MAX-VALUE",maxCount:parseInt(e.currentTarget.value)})},startValue:e.startCount,onChangeStartValue:function(e){e.currentTarget.value||t(O(!0,!0,!0,!0)),t({type:"CHANGE-START-VALUE",startCount:parseInt(e.currentTarget.value)})},errorMaxValue:e.errorMaxValue,errorStartValue:e.errorStartValue,onKeyPress:function(t){var e=document.getElementById("button-set");"Enter"===t.key&&e&&(r(),e.focus())}}),Object(B.jsx)("div",{className:"div-button",children:Object(B.jsx)(V,{id:"button-set",className:"button",nameButton:"set",onClick:r,disabled:e.buttonSetDisabled})})]}),Object(B.jsxs)("div",{className:"div-value",children:[Object(B.jsx)(E,{value:e.count,maxValue:e.maxCount,incorrectValue:e.incorrectValue,enterSetButton:e.enterSetButton}),Object(B.jsxs)("div",{className:"div-button",children:[Object(B.jsx)(V,{id:"button-inc",className:e.activeButtonInc?"button-active":"button",onClick:function(){e.count<e.maxCount&&(t(d(e.count)),t(x(!0)),setTimeout(n,100))},disabled:e.incButtonDisabled,nameButton:"inc"}),Object(B.jsx)(V,{id:"button-reset",className:"button-v",onClick:function(){var n,a;e.timerId&&clearTimeout(e.timerId),t((n=e.startCount,a=e.resetButtonDisabled,{type:"RESET-COUNT",count:n,resetButtonDisabled:a})),t({type:"RESET-AUTO-BUTTON-DISABLED"})},disabled:e.resetButtonDisabled,nameButton:"reset"}),Object(B.jsx)(V,{id:"button-auto",className:"button-v",onClick:function(){e.timerId&&clearTimeout(e.timerId),t({type:"TOGGLE-AUTO-BUTTON-DISABLED"})},disabled:e.autoButtonDisabled,nameButton:"auto"})]})]})]})};u.a.render(Object(B.jsx)(c.a,{store:S,children:Object(B.jsx)(v,{})}),document.getElementById("root")),o()}},[[23,1,2]]]);
//# sourceMappingURL=main.08bcbe87.chunk.js.map